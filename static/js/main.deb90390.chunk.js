(this["webpackJsonpreact-prescribe"]=this["webpackJsonpreact-prescribe"]||[]).push([[0],{21:function(e,t,a){e.exports=a(38)},26:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(19),r=a.n(i),o=(a(26),a(8)),c=a(9),l=a(11),u=a(10),m=a(13),d=a.n(m);a(27),a(28);d.a.initializeApp({apiKey:"AIzaSyAe1lpOoNgxC0UTeE_XjVPSb-J5_STXZIA",authDomain:"react-prescibe.firebaseapp.com",databaseURL:"https://react-prescibe.firebaseio.com",projectId:"react-prescibe",storageBucket:"react-prescibe.appspot.com",messagingSenderId:"246583401665",appId:"1:246583401665:web:584d3f17dcfb543d304840"}),d.a.firestore();var b=d.a,h=a(20),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).login=function(e){e.preventDefault(),b.auth().signInWithEmailAndPassword(n.state.email,n.state.password).catch((function(e){n.setState({fireErrors:e.message})}))},n.register=function(e){e.preventDefault(),b.auth().createUserWithEmailAndPassword(n.state.email,n.state.password).catch((function(e){n.setState({fireErrors:e.message})}))},n.getAction=function(e){"reg"===e?n.setState({formTitle:"Register New User",loginBtn:!1,fireErrors:""}):n.setState({formTitle:"Login",loginBtn:!0,fireErrors:""})},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",fireErrors:"",formTitle:"Login",loginBtn:!0},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.fireErrors?s.a.createElement("div",{className:"Error"}," ",this.state.fireErrors," "):null,a=this.state.loginBtn?s.a.createElement("input",{className:"loginBtn",type:"submit",onClick:this.login,value:"Login"}):s.a.createElement("input",{className:"loginBtn",type:"submit",onClick:this.register,value:"Register"}),n=this.state.loginBtn?s.a.createElement("div",{className:"div2"},"Don\u2019t have an account?",s.a.createElement("button",{className:"registerBtn",onClick:function(){return e.getAction("reg")}},"Register")):s.a.createElement("div",{className:"div2"},"Already have an account?",s.a.createElement("button",{className:"registerBtn",onClick:function(){return e.getAction("login")}},"Login"));return s.a.createElement("div",{className:"container-fluid",style:{textAlign:"center"}},s.a.createElement("div",{id:"title"},s.a.createElement("h1",null,this.state.formTitle)),s.a.createElement("div",{className:"body"},s.a.createElement("form",null,s.a.createElement("div",{className:"lable"},"  Enter Email Id :"),t,s.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleChange,name:"email",placeholder:"email"}),s.a.createElement("div",{className:"lable2"},"Enter Password :"),s.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleChange,name:"password",placeholder:"password"}),s.a.createElement("div",null,a)),n))}}]),a}(n.Component),v=a(5),p=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logout=function(){v.database().ref("button2").set(!1),v.database().ref("button1").set(!1),1==n.state.btn1Onclick&&v.database().ref("button1").set(!1),1==n.state.btn2Onclick&&v.database().ref("button2").set(!1),b.auth().signOut()},n.click1=function(e){v.database().ref("button1").set(!0),n.setState({butn1:!1}),n.setState({btn1Onclick:!0})},n.click2=function(e){v.database().ref("button2").set(!0),n.setState({butn2:!1}),n.setState({btn2Onclick:!0})},n.update=function(e){1==n.state.btn1Onclick&&v.database().ref("button1").set(!1),1==n.state.btn2Onclick&&v.database().ref("button2").set(!1)},n.onBackButtonEvent=function(e){1==n.state.btn1Onclick&&v.database().ref("button1").set(!1),1==n.state.btn2Onclick&&v.database().ref("button2").set(!1)},n.state={butn1:!1,butn2:!1,btn1Onclick:!1,btn2Onclick:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;0==this.state.btn1Onclick&&v.database().ref("button1").on("value",(function(t){var a=t.val();e.setState({butn1:a})})),0==this.state.btn1Onclick&&v.database().ref("button2").on("value",(function(t){var a=t.val();e.setState({butn2:a})})),window.addEventListener("beforeunload",this.update),window.addEventListener("onpopstate",this.onBackButtonEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.update),window.removeEventListener("onpopstate",this.onBackButtonEvent)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row",style:{paddingTop:"3%",textAlign:"center"}},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("h1",null," Welcome home!")),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("button",{id:"log",onClick:this.logout}," Log Out "))),s.a.createElement("div",{className:"row",style:{marginTop:"10%",textAlign:"center"}},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("button",{className:"butn",disabled:this.state.butn1,onClick:this.click1},"Button 1")),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("button",{className:"butn",disabled:this.state.butn2,onClick:this.click2},"Button 2"))))}}]),a}(n.Component),g=(a(37),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={user:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;b.auth().onAuthStateChanged((function(t){t?(console.log(t.email),e.setState({user:t})):e.setState({user:null})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid",id:"main"},this.state.user?s.a.createElement(p,{user:this.state.user.email}):s.a.createElement(f,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.deb90390.chunk.js.map